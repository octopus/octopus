# -*- coding: utf-8 mode: shell-script -*-
# $Id: 24-cpmd.test 3344 2007-10-13 13:38:03Z acastro $

Test       : Approximated enforced time reversal symmetry propagator
Author     : Xavier
Release    : 3.1.0pre1
Programs   : octopus_mpi; octopus
TestGroups : short-run
Enabled    : Yes

#This test checks the time propagation

# ground state
Processors : 1
Input      : 02-aetrs.01-gs.inp
match ; Initial energy ; GREP(static/info, 'Total       =', 20) ; -11.00353072

Processors : 4
Input      : 02-aetrs.02-td.inp
match ; Energy [step  1] ; LINE(td.general/energy, -21, 30) ; -1.098162577741e+01
match ; Energy [step  5] ; LINE(td.general/energy, -16, 30) ; -1.098155134404e+01
match ; Energy [step 10] ; LINE(td.general/energy, -11, 30) ; -1.098147622321e+01
match ; Energy [step 15] ; LINE(td.general/energy,  -6, 30) ; -1.098140017538e+01
match ; Energy [step 20] ; LINE(td.general/energy,  -1, 30) ; -1.098132325868e+01

match ; Forces [step  1] ; LINE(td.general/coordinates, -21, 270) ; 1.700891538586e-01
match ; Forces [step  5] ; LINE(td.general/coordinates, -16, 270) ; 1.675249690429e-01
match ; Forces [step 10] ; LINE(td.general/coordinates, -11, 270) ; 1.672863056642e-01
match ; Forces [step 15] ; LINE(td.general/coordinates,  -6, 270) ; 1.675817305313e-01
match ; Forces [step 20] ; LINE(td.general/coordinates,  -1, 270) ; 1.678890782112e-01

Processors : 4
Input      : 02-aetrs.03-td_lanczos.inp
match ; Energy [step  1] ; LINE(td.general/energy, -21, 30) ; -1.098162577741e+01
match ; Energy [step  5] ; LINE(td.general/energy, -16, 30) ; -1.098155134393e+01
match ; Energy [step 10] ; LINE(td.general/energy, -11, 30) ; -1.098147622293e+01
match ; Energy [step 15] ; LINE(td.general/energy,  -6, 30) ; -1.098140017486e+01
match ; Energy [step 20] ; LINE(td.general/energy,  -1, 30) ; -1.098132325801e+01

match ; Forces [step  1] ; LINE(td.general/coordinates, -21, 270) ; 1.700891538586e-01
match ; Forces [step  5] ; LINE(td.general/coordinates, -16, 270) ; 1.675253969110e-01
match ; Forces [step 10] ; LINE(td.general/coordinates, -11, 270) ; 1.672866463755e-01
match ; Forces [step 15] ; LINE(td.general/coordinates,  -6, 270) ; 1.675820103241e-01
match ; Forces [step 20] ; LINE(td.general/coordinates,  -1, 270) ; 1.678892575836e-01
